# 프로젝트 개요

## 배경 및 목적

[*인프런 교육과정:빅데이터 파일럿 프로젝트 - 김강원](https://www.inflearn.com/course/%EB%B9%85%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%8C%EC%9D%BC%EB%9F%BF-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/dashboard)

            4차 산업혁명으로 인해 모든 사물들이 연결되는 초연결 사회로 변화되고 있고 자동차 또한 최첨단 전자장치와 무선통신을 결합한 스마트카로 변화되고 있다.
            그로인해 스마트카는 무수한 로그 데이터들이 만들어 내고 있다. 이러한 로그 데이터를 유의미하게 사용하기 위해서는 저장하고 분석할 수 있는 환경이 필요하고 분석결과를 토대로 새로운 인사이트를 발견하여 가치를 창출할 수 있어야 한다.
            따라서 이번 프로젝트의 목적은 스마트카에서 발생되는 차량의 다양한 로그 데이터를 수집해서 차량 기능별 상태를 점검하고,
            운전자의 운행 정보가 담긴 로그를 실시간으로 수집해서 운전자 주행 패턴을 분석하는 것이다.
            또한 하둡 에코시스템을 실제로 구축해보면서 3V로 발생한 데이터를 어떻게 수집, 처리, 탐색, 분석하여 Value를 창출해내는 지에 대한 과정들을 공부한다.
            세부적인 에코시스템들의 사용법보다는 전체 에코시스템 구축하는데 중점을 둔다.


## 데이터셋

![Cap 2021-07-18 14-04-01-139](https://user-images.githubusercontent.com/76901290/126056486-c3d374b8-d107-467d-b425-5c5aa59f3b5a.png)


1. 스마트카 상태 정보 데이터

- 스마트카의 각종 센서로부터 발생하는 차량의 상태 정보 데이터셋이다.
- 요구사항 1과 직접적인 관련이 있으며, 로그 시뮬레이터를 통해 생성된다.

![Cap 2021-07-19 13-51-58-395](https://user-images.githubusercontent.com/76901290/126105206-6340b059-20a6-42e6-ab35-b029c21de131.png)



2. 스마트카 운전자 운행 데이터

- 스마트카 운전자의 운전 패턴/운행 정보가 담긴 데이터셋이다.
- 요구사항 2와 직접적인 관련이 있으며 로그 시뮬레이터를 통해 생성된다.

![Cap 2021-07-19 13-54-49-919](https://user-images.githubusercontent.com/76901290/126105212-59043593-1f8f-4665-aff1-77ab125178ab.png)


3. 스마트카 마스터 데이터

- 스마트카 운전자의 프로파일 정보가 담긴 데이터셋이다.
- 요구사항 1, 2와 관련된 분석 데이터셋을 만들 때 활용한다.
- 이미 만들어진 샘플 파일을 이용한다.

![Cap 2021-07-19 13-56-13-984](https://user-images.githubusercontent.com/76901290/126105219-510f07ef-3a6d-43b2-b39e-de63d28e468b.png)



4. 스마트카 물품 구매 이력 데이터

- 스마트카 운전자가 차량 내의 스마트 스크린을 통해 쇼핑몰에서 구입한 차량 물품 구매 목록 데이터셋이다.
- 요구사항 1,2와 관련된 분석 데이터셋을 만들 때 활용하는데, 이미 만들어진 샘플 파일을 이용한다.

![Cap 2021-07-19 13-57-00-235](https://user-images.githubusercontent.com/76901290/126105224-4f551086-6ada-4f63-9024-9df3688bc6ce.png)






## 소프트웨어 및 하드웨어 아키텍처

- 소프트웨어 아키텍처

![Cap 2021-07-18 14-15-22-965](https://user-images.githubusercontent.com/76901290/126056671-7bf478aa-c66b-4d7b-84f5-4fbe28957ccf.jpg)


            스마트카 차량상태 데이터와 스마트카 운전자 운행 데이터를 Flume을 통해서 수집하고 적재 간에 버퍼역할을 위해 Kafka를 통해서 Storm으로 보내진다. Storm에서는 각 데이터를 HBase에 저장하는데 실시간 데이터인 스마트카 운전자 운행 데이터에서 특이사항 발생 시 Esper로 인지하여 Redis에 저장시킨다.
            
            다음으로 Data Lake로부터 Data Warehouse, Data Mart를 만들기 위해 Hue 웹UI를 통해서 Hive쿼리를 선언하고 Oozie를 이용해 워크플로를 작성한다. 이 과정에서 분석에 필요한 Data Mart데이터를 만들어낸다.
            
             
            
            다음 분석을 위해 Hue에서 Impala를 통해 스마트카 운행 지역별 평균 속도가 가장 높았던 스마트카 차량을 분석해본다.
            
            그리고 Jeppelin에서 Spark 스칼라 코드를 통해 운행 지역별 평균 속도를 구한다.
            
            그리고 Mahout을 통해 스마트카별 차량 용품을 추천해준다.
            
            그리고 Jeppelin에서 SparkML의 랜덤포레스트 분석을 통해 현재 스마트카의 상태가 정상인지 비정상인지를 구별한다.
            
            마지막으로 Mahout과 SparkML을 통해 스마트카 운전자에 대한 군집분석을 진행한다.
            
             
            
            최종적으로 Sqoop을 통해 외부 데이터베이스에서 쓰일 테이블을 Export하는 작업을 진행한다.
            
            또한 Cloudera Manager를 통해 하둡 에코시스템들을 프로비저닝, 매니지먼트, 모니터링하고
            
            Zookeeper를 통해 하둡, HBase, Kafka, Storm에서 클러스터 멤버십 기능 및 환경설정 동기화 등을 처리한다.


- 하드웨어 아키텍처

![Cap 2021-07-18 14-25-35-059](https://user-images.githubusercontent.com/76901290/126056804-b0f83b0a-e9c2-44f8-ad7f-671bbb93bcd9.jpg)